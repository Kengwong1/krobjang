<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏Å‡∏°‡πÑ‡∏û‡πà‡∏õ‡πä‡∏≠‡∏Å‡πÄ‡∏î‡πâ‡∏á - 1 ‡∏´‡∏£‡∏∑‡∏≠ 2 ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</title>
    <style>
        body {
            font-family: 'Sarabun', 'Tahoma', sans-serif;
            background: linear-gradient(135deg, #8B0000 0%, #4A0000 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
        }
        
        .game-container {
            background: rgba(0, 0, 0, 0.85);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.6);
            width: 95%;
            max-width: 900px;
            padding: 30px;
            text-align: center;
            border: 3px solid #FFD700;
        }
        
        h1 {
            margin-top: 0;
            font-size: 36px;
            text-shadow: 3px 3px 8px rgba(0,0,0,0.7);
            color: #FFD700;
            margin-bottom: 25px;
            text-transform: uppercase;
            letter-spacing: 3px;
            background: linear-gradient(to right, #FFD700, #FFA500, #FFD700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .mode-selection {
            background: rgba(0, 0, 0, 0.6);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
            border: 2px solid #3498db;
        }
        
        .mode-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin: 0 10px;
        }
        
        .mode-btn.active {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            transform: scale(1.05);
        }
        
        .game-info {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            background: rgba(0, 0, 0, 0.6);
            padding: 15px;
            border-radius: 15px;
            border: 2px solid #3498db;
        }
        
        .info-item {
            text-align: center;
        }
        
        .info-value {
            font-size: 28px;
            font-weight: bold;
            color: #FFD700;
        }
        
        .info-label {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .players-area {
            display: flex;
            flex-direction: column;
            gap: 25px;
            margin: 25px 0;
        }
        
        .player {
            background: rgba(255, 255, 255, 0.12);
            border-radius: 18px;
            padding: 25px;
            border: 3px solid #3498db;
            transition: all 0.3s ease;
        }
        
        .player.dealer {
            border-color: #e74c3c;
        }
        
        .player.player2 {
            border-color: #9b59b6;
        }
        
        .player.current-turn {
            box-shadow: 0 0 20px #FFD700;
            transform: scale(1.03);
        }
        
        .player:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
        }
        
        .player-name {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 18px;
            color: #3498db;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        
        .player.dealer .player-name {
            color: #e74c3c;
        }
        
        .player.player2 .player-name {
            color: #9b59b6;
        }
        
        .cards-area {
            display: flex;
            justify-content: center;
            gap: 12px;
            min-height: 130px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .card {
            width: 70px;
            height: 100px;
            background: white;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            font-weight: bold;
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
            position: relative;
            transition: all 0.3s ease;
            border: 2px solid #333;
        }
        
        .card:hover {
            transform: translateY(-8px) rotate(5deg);
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
            z-index: 10;
        }
        
        .card.red {
            color: #e74c3c;
        }
        
        .card.black {
            color: #2c3e50;
        }
        
        .card.back {
            background: linear-gradient(135deg, #2c3e50 0%, #4a235a 100%);
            color: white;
            font-size: 28px;
            background-image: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(255,255,255,0.1) 10px,
                rgba(255,255,255,0.1) 20px
            );
        }
        
        .score-display {
            font-size: 22px;
            font-weight: bold;
            margin-top: 18px;
            color: #FFD700;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        
        .pok-indicator {
            font-size: 20px;
            font-weight: bold;
            margin-top: 8px;
            color: #2ecc71;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            min-height: 25px;
        }
        
        .controls {
            margin: 30px 0;
        }
        
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .action-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 15px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 160px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        
        .deal-btn {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
        }
        
        .hit-btn {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }
        
        .stand-btn {
            background: linear-gradient(135deg, #f39c12 0%, #d35400 100%);
        }
        
        .action-btn:hover:not(:disabled) {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.4);
        }
        
        .action-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .game-message {
            margin: 25px 0;
            padding: 20px;
            border-radius: 15px;
            font-size: 20px;
            font-weight: bold;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            border: 2px solid #3498db;
        }
        
        .message-waiting {
            background: rgba(52, 152, 219, 0.25);
            color: #3498db;
        }
        
        .message-result {
            background: rgba(231, 76, 60, 0.25);
            color: #e74c3c;
            border-color: #e74c3c;
        }
        
        .win {
            background: rgba(46, 204, 113, 0.25);
            color: #2ecc71;
            border-color: #2ecc71;
        }
        
        .tie {
            background: rgba(243, 156, 18, 0.25);
            color: #f39c12;
            border-color: #f39c12;
        }
        
        .instructions {
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 15px;
            margin-top: 25px;
            font-size: 15px;
            line-height: 1.6;
            border: 1px solid #3498db;
        }
        
        .instructions h3 {
            color: #FFD700;
            margin-top: 0;
            margin-bottom: 15px;
        }
        
        .instructions ul {
            text-align: left;
            padding-left: 20px;
            margin: 10px 0;
        }
        
        .instructions li {
            margin: 8px 0;
        }
        
        .highlight {
            color: #FFD700;
            font-weight: bold;
        }
        
        .turn-indicator {
            font-size: 18px;
            font-weight: bold;
            color: #FFD700;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>üÉè ‡πÄ‡∏Å‡∏°‡πÑ‡∏û‡πà‡∏õ‡πä‡∏≠‡∏Å‡πÄ‡∏î‡πâ‡∏á üÉè</h1>
        
        <div class="mode-selection">
            <h3>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô:</h3>
            <button class="mode-btn active" id="mode1Btn" onclick="setMode(1)">1 ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô (‡∏Å‡∏±‡∏ö AI)</button>
            <button class="mode-btn" id="mode2Btn" onclick="setMode(2)">2 ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</button>
        </div>
        
        <div class="game-info">
            <div class="info-item">
                <div class="info-value" id="round">1</div>
                <div class="info-label">‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà</div>
            </div>
            <div class="info-item" id="player1WinsInfo">
                <div class="info-value" id="player1Wins">0</div>
                <div class="info-label">‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1</div>
            </div>
            <div class="info-item" id="player2WinsInfo">
                <div class="info-value" id="player2Wins">0</div>
                <div class="info-label">‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 2</div>
            </div>
        </div>
        
        <div class="turn-indicator" id="turnIndicator">‡∏£‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°...</div>
        
        <div class="players-area" id="playersArea">
            <!-- Players will be added dynamically -->
        </div>
        
        <div class="game-message message-waiting" id="gameMessage">
            ‡∏Å‡∏î "‡πÅ‡∏à‡∏Å‡πÑ‡∏û‡πà" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡∏õ‡πä‡∏≠‡∏Å‡πÄ‡∏î‡πâ‡∏á!
        </div>
        
        <div class="controls">
            <div class="action-buttons">
                <button class="action-btn deal-btn" id="dealBtn" onclick="dealCards()">‡πÅ‡∏à‡∏Å‡πÑ‡∏û‡πà üÉè</button>
                <button class="action-btn hit-btn" id="hitBtn" onclick="playerHit()" disabled>‡∏à‡∏±‡πà‡∏ß‡πÑ‡∏û‡πà ‚ûï</button>
                <button class="action-btn stand-btn" id="standBtn" onclick="playerStand()" disabled>‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏û‡πà ‚úã</button>
            </div>
        </div>
        
        <div class="instructions">
            <h3>üìú ‡∏Å‡∏é‡πÄ‡∏Å‡∏°‡πÑ‡∏û‡πà‡∏õ‡πä‡∏≠‡∏Å‡πÄ‡∏î‡πâ‡∏á</h3>
            <ul>
                <li>‡πÑ‡∏û‡πà <span class="highlight">2-10</span> ‡∏ô‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡πÅ‡∏ï‡πâ‡∏°, <span class="highlight">J/Q/K = 0 ‡πÅ‡∏ï‡πâ‡∏°</span>, <span class="highlight">A = 1 ‡πÅ‡∏ï‡πâ‡∏°</span></li>
                <li>‡πÅ‡∏ï‡πâ‡∏°‡∏£‡∏ß‡∏°‡πÄ‡∏Å‡∏¥‡∏ô 9 ‡πÉ‡∏´‡πâ‡∏ô‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞ <span class="highlight">‡∏´‡∏•‡∏±‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢</span> (‡πÄ‡∏ä‡πà‡∏ô 15 = 5 ‡πÅ‡∏ï‡πâ‡∏°, 23 = 3 ‡πÅ‡∏ï‡πâ‡∏°)</li>
                <li><span class="highlight">‡∏õ‡πä‡∏≠‡∏Å 8 ‡∏´‡∏£‡∏∑‡∏≠ ‡∏õ‡πä‡∏≠‡∏Å 9</span> ‡∏ä‡∏ô‡∏∞‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡∏õ‡πä‡∏≠‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô)</li>
                <li>‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡πä‡∏≠‡∏Å: <span class="highlight">‡πÅ‡∏ï‡πâ‡∏°‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏ä‡∏ô‡∏∞</span>, ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô = ‡πÄ‡∏™‡∏°‡∏≠</li>
                <li>‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î 1 ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô: ‡∏î‡∏µ‡∏•‡πÄ‡∏•‡∏≠‡∏£‡πå‡∏à‡∏∞ <span class="highlight">‡∏à‡∏±‡πà‡∏ß‡πÑ‡∏û‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏ï‡πâ‡∏° ‚â§ 3</span> ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏•‡∏∞ ‚â§ 6</li>
                <li>‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏°‡∏µ‡πÑ‡∏û‡πà <span class="highlight">5 ‡πÉ‡∏ö</span> ‡∏à‡∏∞‡∏ä‡∏ô‡∏∞‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡∏Ñ‡∏π‡πà‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ‡∏õ‡πä‡∏≠‡∏Å)</li>
            </ul>
        </div>
    </div>

    <script>
        // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏Å‡∏°
        const suits = ['‚ô†', '‚ô•', '‚ô¶', '‚ô£'];
        const ranks = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
        let deck = [];
        let players = [];
        let currentPlayerIndex = 0;
        let gameActive = false;
        let round = 1;
        let mode = 1; // 1 = vs AI, 2 = 2 players
        let player1Wins = 0;
        let player2Wins = 0;
        
        // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏±‡∏ö‡πÑ‡∏û‡πà
        function createDeck() {
            const newDeck = [];
            for (let suit of suits) {
                for (let rank of ranks) {
                    newDeck.push({ suit, rank });
                }
            }
            return newDeck;
        }
        
        // ‡∏™‡∏∏‡πà‡∏°‡πÑ‡∏û‡πà
        function shuffleDeck(deck) {
            const shuffled = [...deck];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }
        
        // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏ï‡πâ‡∏°‡πÑ‡∏û‡πà
        function calculateScore(hand) {
            let score = 0;
            for (let card of hand) {
                if (card.rank === 'A') {
                    score += 1;
                } else if (['J', 'Q', 'K'].includes(card.rank)) {
                    score += 0;
                } else {
                    score += parseInt(card.rank);
                }
            }
            return score % 10;
        }
        
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏õ‡πä‡∏≠‡∏Å
        function isPok(hand) {
            const score = calculateScore(hand);
            return score === 8 || score === 9;
        }
        
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏û‡πà 5 ‡πÉ‡∏ö
        function hasFiveCards(hand) {
            return hand.length >= 5;
        }
        
        // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÑ‡∏û‡πà
        function createCardElement(card, hidden = false) {
            const cardElement = document.createElement('div');
            cardElement.className = 'card';
            
            if (hidden) {
                cardElement.classList.add('back');
                cardElement.textContent = 'üÇ†';
            } else {
                cardElement.textContent = card.rank + card.suit;
                if (card.suit === '‚ô•' || card.suit === '‚ô¶') {
                    cardElement.classList.add('red');
                } else {
                    cardElement.classList.add('black');
                }
            }
            
            return cardElement;
        }
        
        // ‡πÅ‡∏™‡∏î‡∏á‡πÑ‡∏û‡πà
        function displayCards() {
            const playersArea = document.getElementById('playersArea');
            playersArea.innerHTML = '';
            
            players.forEach((player, index) => {
                const playerDiv = document.createElement('div');
                playerDiv.className = `player ${player.type}`;
                if (gameActive && index === currentPlayerIndex) {
                    playerDiv.classList.add('current-turn');
                }
                
                const playerName = document.createElement('div');
                playerName.className = 'player-name';
                playerName.textContent = player.name;
                
                const cardsArea = document.createElement('div');
                cardsArea.className = 'cards-area';
                
                player.hand.forEach((card, cardIndex) => {
                    let hidden = false;
                    // ‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î 2 ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô ‡πÅ‡∏™‡∏î‡∏á‡πÑ‡∏û‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                    // ‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î 1 ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô ‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏û‡πà‡∏ó‡∏µ‡πà 2 ‡∏Ç‡∏≠‡∏á‡∏î‡∏µ‡∏•‡πÄ‡∏•‡∏≠‡∏£‡πå
                    if (mode === 1 && player.type === 'dealer' && cardIndex === 1 && gameActive && !isPok(players[0].hand)) {
                        hidden = true;
                    }
                    cardsArea.appendChild(createCardElement(card, hidden));
                });
                
                const scoreDisplay = document.createElement('div');
                scoreDisplay.className = 'score-display';
                let scoreText = '‡πÅ‡∏ï‡πâ‡∏°: ';
                if (mode === 1 && player.type === 'dealer' && gameActive && !isPok(players[0].hand)) {
                    scoreText += '?';
                } else {
                    scoreText += calculateScore(player.hand);
                }
                scoreDisplay.textContent = scoreText;
                
                const pokIndicator = document.createElement('div');
                pokIndicator.className = 'pok-indicator';
                if ((mode === 2 || player.type !== 'dealer' || !gameActive || isPok(players[0].hand)) && isPok(player.hand)) {
                    pokIndicator.textContent = '‡∏õ‡πä‡∏≠‡∏Å ' + calculateScore(player.hand) + '!';
                } else if (hasFiveCards(player.hand)) {
                    pokIndicator.textContent = '‡πÑ‡∏û‡πà 5 ‡πÉ‡∏ö! üéâ';
                    pokIndicator.style.color = '#FFD700';
                }
                pokIndicator.style.color = hasFiveCards(player.hand) ? '#FFD700' : '#2ecc71';
                
                playerDiv.appendChild(playerName);
                playerDiv.appendChild(cardsArea);
                playerDiv.appendChild(scoreDisplay);
                playerDiv.appendChild(pokIndicator);
                playersArea.appendChild(playerDiv);
            });
            
            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
            document.getElementById('round').textContent = round;
            document.getElementById('player1Wins').textContent = player1Wins;
            document.getElementById('player2Wins').textContent = player2Wins;
        }
        
        // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÇ‡∏´‡∏°‡∏î
        function setMode(selectedMode) {
            mode = selectedMode;
            document.getElementById('mode1Btn').classList.toggle('active', mode === 1);
            document.getElementById('mode2Btn').classList.toggle('active', mode === 2);
            
            // ‡∏ã‡πà‡∏≠‡∏ô/‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 2
            document.getElementById('player2WinsInfo').style.display = mode === 2 ? 'block' : 'none';
            
            // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏Å‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏´‡∏°‡∏î
            resetGame();
        }
        
        // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏Å‡∏°
        function resetGame() {
            gameActive = false;
            currentPlayerIndex = 0;
            document.getElementById('dealBtn').disabled = false;
            document.getElementById('hitBtn').disabled = true;
            document.getElementById('standBtn').disabled = true;
            document.getElementById('gameMessage').textContent = '‡∏Å‡∏î "‡πÅ‡∏à‡∏Å‡πÑ‡∏û‡πà" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡∏õ‡πä‡∏≠‡∏Å‡πÄ‡∏î‡πâ‡∏á!';
            document.getElementById('gameMessage').className = 'game-message message-waiting';
            document.getElementById('turnIndicator').textContent = '‡∏£‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°...';
        }
        
        // ‡πÅ‡∏à‡∏Å‡πÑ‡∏û‡πà
        function dealCards() {
            if (gameActive) return;
            
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡∏≤‡∏°‡πÇ‡∏´‡∏°‡∏î
            players = [];
            if (mode === 1) {
                players.push({ name: '‡∏Ñ‡∏∏‡∏ì', hand: [], type: 'player' });
                players.push({ name: '‡∏î‡∏µ‡∏•‡πÄ‡∏•‡∏≠‡∏£‡πå (AI)', hand: [], type: 'dealer' });
            } else {
                players.push({ name: '‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1', hand: [], type: 'player1' });
                players.push({ name: '‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 2', hand: [], type: 'player2' });
            }
            
            // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏Å‡∏°
            deck = shuffleDeck(createDeck());
            gameActive = true;
            currentPlayerIndex = 0;
            
            // ‡πÅ‡∏à‡∏Å‡πÑ‡∏û‡πà‡∏Ñ‡∏ô‡∏•‡∏∞ 2 ‡πÉ‡∏ö
            for (let i = 0; i < 2; i++) {
                players.forEach(player => {
                    player.hand.push(deck.pop());
                });
            }
            
            // ‡πÅ‡∏™‡∏î‡∏á‡πÑ‡∏û‡πà
            displayCards();
            
            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏õ‡∏∏‡πà‡∏°
            document.getElementById('dealBtn').disabled = true;
            document.getElementById('hitBtn').disabled = false;
            document.getElementById('standBtn').disabled = false;
            
            // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
            const gameMessage = document.getElementById('gameMessage');
            if (mode === 1) {
                gameMessage.textContent = '‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à: ‡∏à‡∏±‡πà‡∏ß‡πÑ‡∏û‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏û‡πà?';
                gameMessage.className = 'game-message message-waiting';
            } else {
                gameMessage.textContent = `‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1: ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏à‡∏±‡πà‡∏ß‡πÑ‡∏û‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏û‡πà?`;
                gameMessage.className = 'game-message message-waiting';
            }
            
            document.getElementById('turnIndicator').textContent = mode === 1 ? '‡∏ï‡∏≤‡∏Ñ‡∏∏‡∏ì' : '‡∏ï‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1';
            
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏õ‡πä‡∏≠‡∏Å‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÇ‡∏´‡∏°‡∏î 1 ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô)
            if (mode === 1) {
                setTimeout(() => {
                    if (isPok(players[0].hand) || isPok(players[1].hand)) {
                        resolveGame();
                    }
                }, 1200);
            }
        }
        
        // ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏±‡πà‡∏ß‡πÑ‡∏û‡πà
        function playerHit() {
            if (!gameActive) return;
            
            // ‡∏à‡∏±‡πà‡∏ß‡πÑ‡∏û‡πà
            players[currentPlayerIndex].hand.push(deck.pop());
            displayCards();
            
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏≠‡∏¢‡∏π‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
            const playerScore = calculateScore(players[currentPlayerIndex].hand);
            if (hasFiveCards(players[currentPlayerIndex].hand) || playerScore <= 4) {
                setTimeout(() => {
                    playerStand();
                }, 1000);
            }
        }
        
        // ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏û‡πà
        function playerStand() {
            if (!gameActive) return;
            
            // ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Ñ‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
            currentPlayerIndex++;
            
            if (currentPlayerIndex < players.length) {
                // ‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Ñ‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
                document.getElementById('turnIndicator').textContent = mode === 1 ? '‡∏ï‡∏≤‡∏î‡∏µ‡∏•‡πÄ‡∏•‡∏≠‡∏£‡πå' : `‡∏ï‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô ${currentPlayerIndex + 1}`;
                document.getElementById('gameMessage').textContent = mode === 1 ? '‡∏î‡∏µ‡∏•‡πÄ‡∏•‡∏≠‡∏£‡πå‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô...' : `‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô ${currentPlayerIndex + 1}: ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏à‡∏±‡πà‡∏ß‡πÑ‡∏û‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏û‡πà?`;
                
                displayCards();
                
                if (mode === 1 && currentPlayerIndex === 1) {
                    // ‡πÇ‡∏´‡∏°‡∏î 1 ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô: ‡∏î‡∏µ‡∏•‡πÄ‡∏•‡∏≠‡∏£‡πå‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
                    document.getElementById('hitBtn').disabled = true;
                    document.getElementById('standBtn').disabled = true;
                    setTimeout(() => {
                        dealerPlay();
                    }, 1500);
                } else {
                    // ‡πÇ‡∏´‡∏°‡∏î 2 ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô: ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Ñ‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
                    document.getElementById('hitBtn').disabled = false;
                    document.getElementById('standBtn').disabled = false;
                }
            } else {
                // ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏û‡πà‡πÅ‡∏•‡πâ‡∏ß ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡∏ú‡∏•
                resolveGame();
            }
        }
        
        // ‡∏î‡∏µ‡∏•‡πÄ‡∏•‡∏≠‡∏£‡πå‡πÄ‡∏•‡πà‡∏ô (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÇ‡∏´‡∏°‡∏î 1 ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô)
        function dealerPlay() {
            function dealerDraw() {
                const dealerScore = calculateScore(players[1].hand);
                const playerScore = calculateScore(players[0].hand);
                
                // ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏à‡∏±‡πà‡∏ß‡πÑ‡∏û‡πà‡∏Ç‡∏≠‡∏á‡∏î‡∏µ‡∏•‡πÄ‡∏•‡∏≠‡∏£‡πå
                let shouldDraw = false;
                
                if (hasFiveCards(players[1].hand)) {
                    shouldDraw = false;
                } else if (hasFiveCards(players[0].hand) && !isPok(players[1].hand)) {
                    shouldDraw = false;
                } else if (isPok(players[1].hand)) {
                    shouldDraw = false;
                } else if (dealerScore <= 3) {
                    shouldDraw = true;
                } else if (dealerScore === playerScore && dealerScore <= 6) {
                    shouldDraw = true;
                }
                
                if (shouldDraw) {
                    players[1].hand.push(deck.pop());
                    displayCards();
                    setTimeout(dealerDraw, 1200);
                } else {
                    resolveGame();
                }
            }
            
            dealerDraw();
        }
        
        // ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡∏ú‡∏•‡πÄ‡∏Å‡∏°
        function resolveGame() {
            gameActive = false;
            document.getElementById('hitBtn').disabled = true;
            document.getElementById('standBtn').disabled = true;
            
            // ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
            displayCards();
            
            let result = '';
            let messageClass = 'message-result';
            
            if (mode === 1) {
                // ‡πÇ‡∏´‡∏°‡∏î 1 ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô
                const playerScore = calculateScore(players[0].hand);
                const dealerScore = calculateScore(players[1].hand);
                const playerHasFive = hasFiveCards(players[0].hand);
                const dealerHasFive = hasFiveCards(players[1].hand);
                
                if (isPok(players[1].hand) && !isPok(players[0].hand)) {
                    result = '‡∏î‡∏µ‡∏•‡πÄ‡∏•‡∏≠‡∏£‡πå‡∏õ‡πä‡∏≠‡∏Å! ‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏û‡πâ! üíî';
                    player2Wins++;
                } else if (isPok(players[0].hand) && !isPok(players[1].hand)) {
                    result = '‡∏Ñ‡∏∏‡∏ì‡∏õ‡πä‡∏≠‡∏Å! ‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏ô‡∏∞! üéâ';
                    player1Wins++;
                    messageClass = 'win';
                } else if (isPok(players[0].hand) && isPok(players[1].hand)) {
                    if (playerScore > dealerScore) {
                        result = '‡∏Ñ‡∏∏‡∏ì‡∏õ‡πä‡∏≠‡∏Å‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤! ‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏ô‡∏∞! üéâ';
                        player1Wins++;
                        messageClass = 'win';
                    } else if (dealerScore > playerScore) {
                        result = '‡∏î‡∏µ‡∏•‡πÄ‡∏•‡∏≠‡∏£‡πå‡∏õ‡πä‡∏≠‡∏Å‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤! ‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏û‡πâ! üíî';
                        player2Wins++;
                    } else {
                        result = '‡∏õ‡πä‡∏≠‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô! ‡πÄ‡∏™‡∏°‡∏≠‡∏Å‡∏±‡∏ô! ü§ù';
                        messageClass = 'tie';
                    }
                } else if (playerHasFive && !dealerHasFive && !isPok(players[1].hand)) {
                    result = '‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡πÑ‡∏û‡πà 5 ‡πÉ‡∏ö! ‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏ô‡∏∞! üéâ';
                    player1Wins++;
                    messageClass = 'win';
                } else if (dealerHasFive && !playerHasFive && !isPok(players[0].hand)) {
                    result = '‡∏î‡∏µ‡∏•‡πÄ‡∏•‡∏≠‡∏£‡πå‡∏°‡∏µ‡πÑ‡∏û‡πà 5 ‡πÉ‡∏ö! ‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏û‡πâ! üíî';
                    player2Wins++;
                } else if (playerHasFive && dealerHasFive) {
                    result = '‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà‡∏°‡∏µ‡πÑ‡∏û‡πà 5 ‡πÉ‡∏ö! ‡πÄ‡∏™‡∏°‡∏≠‡∏Å‡∏±‡∏ô! ü§ù';
                    messageClass = 'tie';
                } else {
                    if (playerScore > dealerScore) {
                        result = '‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏ô‡∏∞! üéâ';
                        player1Wins++;
                        messageClass = 'win';
                    } else if (dealerScore > playerScore) {
                        result = '‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏û‡πâ! üíî';
                        player2Wins++;
                    } else {
                        result = '‡πÄ‡∏™‡∏°‡∏≠‡∏Å‡∏±‡∏ô! ü§ù';
                        messageClass = 'tie';
                    }
                }
            } else {
                // ‡πÇ‡∏´‡∏°‡∏î 2 ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô
                const player1Score = calculateScore(players[0].hand);
                const player2Score = calculateScore(players[1].hand);
                const player1HasFive = hasFiveCards(players[0].hand);
                const player2HasFive = hasFiveCards(players[1].hand);
                
                if (isPok(players[0].hand) && !isPok(players[1].hand)) {
                    result = '‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1 ‡∏õ‡πä‡∏≠‡∏Å! ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1 ‡∏ä‡∏ô‡∏∞! üéâ';
                    player1Wins++;
                    messageClass = 'win';
                } else if (isPok(players[1].hand) && !isPok(players[0].hand)) {
                    result = '‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 2 ‡∏õ‡πä‡∏≠‡∏Å! ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 2 ‡∏ä‡∏ô‡∏∞! üéâ';
                    player2Wins++;
                    messageClass = 'win';
                } else if (isPok(players[0].hand) && isPok(players[1].hand)) {
                    if (player1Score > player2Score) {
                        result = '‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1 ‡∏õ‡πä‡∏≠‡∏Å‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤! ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1 ‡∏ä‡∏ô‡∏∞! üéâ';
                        player1Wins++;
                        messageClass = 'win';
                    } else if (player2Score > player1Score) {
                        result = '‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 2 ‡∏õ‡πä‡∏≠‡∏Å‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤! ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 2 ‡∏ä‡∏ô‡∏∞! üéâ';
                        player2Wins++;
                        messageClass = 'win';
                    } else {
                        result = '‡∏õ‡πä‡∏≠‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô! ‡πÄ‡∏™‡∏°‡∏≠‡∏Å‡∏±‡∏ô! ü§ù';
                        messageClass = 'tie';
                    }
                } else if (player1HasFive && !player2HasFive) {
                    result = '‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1 ‡∏°‡∏µ‡πÑ‡∏û‡πà 5 ‡πÉ‡∏ö! ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1 ‡∏ä‡∏ô‡∏∞! üéâ';
                    player1Wins++;
                    messageClass = 'win';
                } else if (player2HasFive && !player1HasFive) {
                    result = '‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 2 ‡∏°‡∏µ‡πÑ‡∏û‡πà 5 ‡πÉ‡∏ö! ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 2 ‡∏ä‡∏ô‡∏∞! üéâ';
                    player2Wins++;
                    messageClass = 'win';
                } else if (player1HasFive && player2HasFive) {
                    result = '‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà‡∏°‡∏µ‡πÑ‡∏û‡πà 5 ‡πÉ‡∏ö! ‡πÄ‡∏™‡∏°‡∏≠‡∏Å‡∏±‡∏ô! ü§ù';
                    messageClass = 'tie';
                } else {
                    if (player1Score > player2Score) {
                        result = '‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1 ‡∏ä‡∏ô‡∏∞! üéâ';
                        player1Wins++;
                        messageClass = 'win';
                    } else if (player2Score > player1Score) {
                        result = '‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 2 ‡∏ä‡∏ô‡∏∞! üéâ';
                        player2Wins++;
                        messageClass = 'win';
                    } else {
                        result = '‡πÄ‡∏™‡∏°‡∏≠‡∏Å‡∏±‡∏ô! ü§ù';
                        messageClass = 'tie';
                    }
                }
            }
            
            document.getElementById('gameMessage').textContent = result;
            document.getElementById('gameMessage').className = 'game-message ' + messageClass;
            document.getElementById('turnIndicator').textContent = '‡πÄ‡∏Å‡∏°‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î!';
            
            // ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏à‡∏Å‡πÑ‡∏û‡πà
            document.getElementById('dealBtn').disabled = false;
            round++;
        }
        
        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
        resetGame();
    </script>
</body>
</html>