<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>‡∏Ñ‡∏£‡∏ö‡∏à‡∏±‡∏á‡∏î‡∏≠‡∏ó‡∏Ñ‡∏≠‡∏° - ‡∏Ç‡πà‡∏≤‡∏ß‡∏Å‡∏µ‡∏¨‡∏≤</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;700&family=Noto+Sans+Thai:wght@400;700&display=swap" rel="stylesheet" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Noto Sans Thai', 'Kanit', sans-serif;
        }

        body {
            background: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        /* Header Section */
        .header-container {
            background: #004080;
            color: #fff;
            padding: 30px 20px;
            text-align: center;
        }

        .header-container h1 {
            font-size: 2.5em;
            margin-bottom: 8px;
        }

        .header-container p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        /* Navigation Bar (CSS ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏à‡∏≤‡∏Å nav.html) */
        .main-nav {
            background: #fff;
            padding: 12px 20px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            margin: 20px;
        }

        .main-nav a {
            text-decoration: none;
            color: #333;
            font-weight: 600;
            padding: 10px 15px;
            border-radius: 10px;
            transition: 0.3s;
        }

        .main-nav a:hover,
        .main-nav a.active {
            background: #0066cc;
            color: #fff;
        }

        /* Main Content Section */
        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
        }

        .section {
            background: #fff;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .section h2 {
            margin-bottom: 15px;
            color: #d90000;
            font-size: 1.7em;
            border-bottom: 2px solid #e0e0e0;
            display: inline-block;
        }

        /* News Grid and Card */
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }

        .news-card {
            background: #f9f9f9;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            text-decoration: none;
            color: #333;
            display: flex;
            flex-direction: column;
            transition: 0.3s;
        }

        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12);
        }

        .news-card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .news-content {
            padding: 10px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .news-content h3 {
            font-size: 1.1em;
            margin-bottom: 5px;
            color: #004d99;
        }

        .news-content p {
            font-size: 0.9em;
            color: #555;
            flex-grow: 1;
        }

        /* Footer Section */
        footer {
            text-align:center;
            background:#222;
            color:#fff;
            padding:15px;
        }

        @media screen and (max-width: 768px) {
            .news-card img {
                height: 120px;
            }
        }
    </style>
</head>
<body>
    <header class="header-container">
        <h1>‡∏Ñ‡∏£‡∏ö‡∏à‡∏±‡∏á‡∏î‡∏≠‡∏ó‡∏Ñ‡∏≠‡∏°</h1>
        <p>‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡πÑ‡∏ó‡∏¢‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏´‡∏°‡∏ß‡∏î ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô</p>
    </header>

    <div id="navigation-placeholder"></div>

    <div class="container">
        <div class="section">
            <h2>üèÜ ‡∏Ç‡πà‡∏≤‡∏ß‡∏Å‡∏µ‡∏¨‡∏≤</h2>
            <div id="news-container" class="news-grid">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πà‡∏≤‡∏ß...</div>
        </div>
    </div>

    <footer>
        ¬© 2025 ‡∏Ñ‡∏£‡∏ö‡∏à‡∏±‡∏á‡∏î‡∏≠‡∏ó‡∏Ñ‡∏≠‡∏° | Powered by RSS ‡∏Ç‡πà‡∏≤‡∏ß‡πÑ‡∏ó‡∏¢
    </footer>

    <script>
        // üìå ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏°‡∏ô‡∏π‡∏à‡∏≤‡∏Å nav.html ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ active link
        async function loadNav() {
            try {
                const response = await fetch('nav.html'); 
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const html = await response.text();
                const placeholder = document.getElementById('navigation-placeholder');
                placeholder.innerHTML = html;

                // Logic to set the active link dynamically
                const currentPage = window.location.pathname.split('/').pop() || 'index.html';
                const navLinks = placeholder.querySelectorAll('.main-nav a');
                
                // 1. ‡∏•‡∏ö active class ‡∏à‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å link
                navLinks.forEach(link => link.classList.remove('active'));
                
                // 2. ‡πÄ‡∏û‡∏¥‡πà‡∏° active class ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö link ‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ (sport.html)
                navLinks.forEach(link => {
                    const linkHref = link.getAttribute('href');
                    if (linkHref === currentPage) {
                        link.classList.add('active');
                    }
                });
                
            } catch (error) {
                console.error('Error loading navigation:', error);
                document.getElementById('navigation-placeholder').innerHTML = '<p style="text-align: center; padding: 10px; background: #fff; color: red;">‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏°‡∏ô‡∏π‡πÑ‡∏î‡πâ</p>';
            }
        }

        // üìå ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏î‡∏¥‡∏°: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πà‡∏≤‡∏ß
        function loadSportNews() {
            const container = document.getElementById('news-container');
            const rssUrl = "https://www.thairath.co.th/rss/sport";

            fetch(`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`)
                .then(res => res.json())
                .then(data => {
                    const items = data.items.slice(0, 24); // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏™‡∏î‡∏á 24 ‡∏Ç‡πà‡∏≤‡∏ß‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
                    container.innerHTML = "";

                    if (items.length === 0) {
                        container.innerHTML = "<p>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πà‡∏≤‡∏ß</p>";
                        return;
                    }

                    items.forEach(item => {
                        let imgSrc = "";
                        // ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏î‡∏∂‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å enclosure, thumbnail, ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏≤‡∏Å description
                        if (item.enclosure && item.enclosure.link) {
                            imgSrc = item.enclosure.link;
                        } else if (item.thumbnail) {
                            imgSrc = item.thumbnail;
                        } else {
                            const match = item.description.match(/<img.*?src="(.*?)"/);
                            imgSrc = match ? match[1] : "https://via.placeholder.com/400x200/004d99/ffffff?text=‡∏Ç‡πà‡∏≤‡∏ß";
                        }
                        
                        const cleanDesc = item.description.replace(/<[^>]+>/g, "").substring(0, 100) + "...";

                        const card = document.createElement('a');
                        card.href = item.link;
                        card.target = "_blank";
                        card.className = "news-card";
                        card.innerHTML = `
                            <img src="${imgSrc}" alt="${item.title}">
                            <div class="news-content">
                                <h3>${item.title}</h3>
                                <p>${cleanDesc}</p>
                            </div>
                        `;
                        container.appendChild(card);
                    });
                })
                .catch(err => {
                    container.innerHTML = "<p>‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πà‡∏≤‡∏ß‡πÑ‡∏î‡πâ üò¢</p>";
                    console.error("Error fetching RSS feed:", err);
                });
        }


        document.addEventListener("DOMContentLoaded", function() {
            loadNav(); // üìå ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
            loadSportNews(); // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πà‡∏≤‡∏ß
        });
    </script>
</body>
</html>